<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>What are applications? - LapisOS documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Documents for LapisOS">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../FOREWORD.html"><strong aria-hidden="true">1.</strong> Foreword</a></li><li class="chapter-item expanded "><a href="../FAQ.html"><strong aria-hidden="true">2.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../project/index.html"><strong aria-hidden="true">3.</strong> Project</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../project/development.html"><strong aria-hidden="true">3.1.</strong> Development</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/index.html"><strong aria-hidden="true">4.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concepts/applications.html" class="active"><strong aria-hidden="true">4.1.</strong> What are applications?</a></li><li class="chapter-item expanded "><a href="../concepts/libraries.html"><strong aria-hidden="true">4.2.</strong> What are libraries?</a></li><li class="chapter-item expanded "><a href="../concepts/users.html"><strong aria-hidden="true">4.3.</strong> What are users?</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">LapisOS documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/lapis-org/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="what-are-applications"><a class="header" href="#what-are-applications">What are applications?</a></h1>
<p><em>Applications</em> are the way the operating system processes software.</p>
<ul>
<li><a href="#what-are-applications">What are applications?</a>
<ul>
<li><a href="#how-applications-work">How applications work?</a></li>
<li><a href="#installation-methods">Installation Methods</a>
<ul>
<li><a href="#from-the-store">From the store</a></li>
<li><a href="#sideloading">Sideloading</a></li>
<li><a href="#volatile-applications">Volatile applications</a></li>
</ul>
</li>
<li><a href="#commands">Commands</a></li>
<li><a href="#system-applications">System Applications</a></li>
<li><a href="#services">Services</a></li>
</ul>
</li>
</ul>
<h2 id="how-applications-work"><a class="header" href="#how-applications-work">How applications work?</a></h2>
<p>An application basically consists of executable files and resources.
Because binary programs are not supported directly, <strong>applications are the only way to run code</strong>.</p>
<h2 id="installation-methods"><a class="header" href="#installation-methods">Installation Methods</a></h2>
<p>All applications are installed through <em>application packages</em>.
There are several installation methods:</p>
<ul>
<li>From the store</li>
<li>Directly from the app's package</li>
<li>As a volatile application</li>
</ul>
<h3 id="from-the-store"><a class="header" href="#from-the-store">From the store</a></h3>
<p>Applications can be downloaded and installed from the official store of LapisOS.</p>
<p><strong>For closed source applications</strong>, the store only provides precompiled programs.</p>
<p><strong>For open source applications</strong>, the store provides both precompiled
programs and support for compiling from source.</p>
<p>Users can compile applications from source using the appropriate tools
to compile, or simply use precompiled programs (default) and change
the default option at any time.</p>
<h3 id="sideloading"><a class="header" href="#sideloading">Sideloading</a></h3>
<p><em>Sideloading (installing an application directly from its package)</em> follows
certain rules set by the sideloading mode, called &quot;disable&quot;, &quot;secure&quot;, &quot;insecure&quot;.</p>
<ul>
<li><strong>Disable mode</strong> blocks all sideloading, in this mode it is not possible to install apps via packages, but <a href="#volatile-applications">volatile apps</a> can still be run.</li>
<li><strong>Safe mode</strong> allows sideloading and makes the system check if the application's AID matches an appllication available in the Store. If it matches, it compares the signature of the application with the signature of the Store Application. If the signatures do not match, the application is considered <em>malicious</em> and will not be installed. Also note that this mod only works when the computer is connected to the internet, as the system needs to check the Store to see if the application is malicios. If the computer is offline, sideloading will be disabled.</li>
<li><strong>Insecure mode</strong> allows sideloading without any checking, which is quite dangerous as it allows spoofing.</li>
</ul>
<p>Sideloading mode can be changed in Control Center.</p>
<h3 id="volatile-applications"><a class="header" href="#volatile-applications">Volatile applications</a></h3>
<p>Applications can also be run as <em>volatile applications</em>, which
means they are not installed to disk:</p>
<ul>
<li><strong>Full-volatile:</strong> all data of the application is deleted after the application is closed</li>
<li><strong>Session-scoped:</strong> the application's data is kept on disk until the system is shut down</li>
<li><strong>Local-persisent:</strong> the application's data is stored in a data file with extension <code>*.vad</code> created in the same folder</li>
<li><strong>Persistent:</strong> the application's data is stored in a dedicated folder</li>
</ul>
<p>By default, volatile applications run in <em>local-persistent</em> mode.
In this mode, the system first searches for a file in the same
folder with the same name as the application's package file,
but with the extension <code>*.vad</code> <em>(Volatile Application Data)</em>.
If the file is found, it opens it as the application's storage.
Thus, when the application wants to store data, it is stored in the data file.</p>
<p>Note that <code>*.vad</code> <em>(Volatile Application Data)</em> files are disguised
VSF (Virtual Storage File) files.</p>
<p><em>Persistently running apps</em> are not listed in the app list and can only be
managed through an option in the Control Center. While its data is stored
on disk, its executables are not stored anywhere, they just stay inside
the package. This allows running the same application multiple times and
not worrying about the data file. It also supports shared data storage between users.</p>
<p>Note that the store has an option for installing applications as volatile.</p>
<h2 id="commands"><a class="header" href="#commands">Commands</a></h2>
<p>Applications can provide shell commands. Since command names must prefixed
by the AID, multiple commands can be provided without the danger of name conflicts.</p>
<p>For example, if an app with AID <code>developer.app</code> provides the command <code>get_time</code>, the last available command will be <code>developer.app.get_time</code>.</p>
<p>Although this is a rather long name, it avoids conflicts between
the names of the commands. It is quite common for shell scripts to
import commands at the beginning of the script to make it easier
to access applications' commands.</p>
<p>By default, shell prompts (not scripts) will allow use directly
in the short form <code>get_time</code> if no other application provides
a command with the same name.</p>
<p>Commands work by running the application through a specific <em>execution context</em>.</p>
<h2 id="system-applications"><a class="header" href="#system-applications">System Applications</a></h2>
<p>Some native applications are part of the system itself and
are called <em>system applications</em>. These applications have some special privileges:</p>
<ul>
<li>Access to system-reserved features</li>
<li>Permission to create <em>system service</em></li>
<li>They cannot be uninstalled</li>
</ul>
<p>System applications cannot be removed <em>by any means</em> as
they are critical to the correct functioning of the system.
Native applications which are not system applications can be removed, though.</p>
<h2 id="services"><a class="header" href="#services">Services</a></h2>
<p>Applications can create <em>services</em> by specifying them in their manifests.
The services will run at startup with the application's permissions.</p>
<p>There is exactly one process for each service per active user.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../concepts/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../concepts/libraries.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../concepts/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../concepts/libraries.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>

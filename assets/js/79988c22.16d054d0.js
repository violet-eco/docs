"use strict";(self.webpackChunkviolet_eco_github_io=self.webpackChunkviolet_eco_github_io||[]).push([[3572],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),l=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=l(e.components);return i.createElement(c.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=l(n),u=a,m=p["".concat(c,".").concat(u)]||p[u]||h[u]||r;return n?i.createElement(m,o(o({ref:t},d),{},{components:n})):i.createElement(m,o({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3097:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var i=n(7462),a=(n(7294),n(3905));const r={slug:"devices",sidebar_position:7,description:"Devices are critical in providing many operations and interactions in the Violet system."},o="Devices",s={unversionedId:"technical/devices",id:"technical/devices",title:"Devices",description:"Devices are critical in providing many operations and interactions in the Violet system.",source:"@site/docs/technical/devices.md",sourceDirName:"technical",slug:"/technical/devices",permalink:"/docs/technical/devices",draft:!1,editUrl:"https://github.com/violet-eco/docs/tree/main/docs/docs/technical/devices.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{slug:"devices",sidebar_position:7,description:"Devices are critical in providing many operations and interactions in the Violet system."},sidebar:"violetSidebar",previous:{title:"I/O Nano-Manager",permalink:"/docs/technical/iona"},next:{title:"Processes",permalink:"/docs/technical/processes"}},c={},l=[{value:"Connecting a New Device",id:"connecting-a-new-device",level:2},{value:"Interacting With a Device",id:"interacting-with-a-device",level:2},{value:"Device Handler Files Persistance",id:"device-handler-files-persistance",level:2},{value:"Custom Device Handler File Names",id:"custom-device-handler-file-names",level:2}],d={toc:l},p="wrapper";function h(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"devices"},"Devices"),(0,a.kt)("p",null,"Devices are critical in providing many operations and interactions in the Violet system.\nCameras, microphones, storage drives, network adapters and other hardware components can\nbe included in devices. The system controls various devices using device handling files\n(DHF) and offers a single interface for dealing with them."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#devices"},"Devices"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#connecting-a-new-device"},"Connecting a New Device")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#interacting-with-a-device"},"Interacting With a Device")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#device-handler-files-persistance"},"Device Handler Files Persistance")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#custom-device-handler-file-names"},"Custom Device Handler File Names"))))),(0,a.kt)("h2",{id:"connecting-a-new-device"},"Connecting a New Device"),(0,a.kt)("p",null,"When a new device is attached to the computer, a device handler file (DHF) in the ",(0,a.kt)("inlineCode",{parentName:"p"},"/dev"),"\ndirectory is produced. Depending on the type of device, the placement and arrangement of\nDHFs may differ. A hard disk, for example, may have a DHF path like ",(0,a.kt)("inlineCode",{parentName:"p"},"/dev/sst/b0b4"),"."),(0,a.kt)("p",null,"The filename is arbitrary and unique, with the format ",(0,a.kt)("inlineCode",{parentName:"p"},"[a-z][0-9][a-z][0-9][a-z][0-9]")," (lowercase, digit, lowercase again, and then another digit)."),(0,a.kt)("h2",{id:"interacting-with-a-device"},"Interacting With a Device"),(0,a.kt)("p",null,"To interact with a device, applications and system services utilize the\n",(0,a.kt)("a",{parentName:"p",href:"/docs/specs/services/hw"},(0,a.kt)("inlineCode",{parentName:"a"},"sys::hw"))," service. The specific actions that can be\nperformed depend on the type of device:"),(0,a.kt)("p",null,"Different actions may be happen depending on the device's type:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Camera devices:")," when an application asks to capture a photo/video, the device will be suggested to take the images from"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Microphones:")," when an application asks to capture sound, the device will be suggested to capture the sound from"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Sound output devices:")," the device will be available for playback"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Network adapters:")," the device will be available to make network requests on"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Other supported wireless devices:")," depends on the type (Bluetooth adapter, ...)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Basic/persistent storage devices:")," when possible, the device will be automatically mounted in ",(0,a.kt)("inlineCode",{parentName:"li"},"/mnt")," and visible in the files explorer")),(0,a.kt)("p",null,"For uncategorized devices (in ",(0,a.kt)("inlineCode",{parentName:"p"},"/dev/etc"),"), a popup is shown to the user, to indicate\nthe connected device is not recognized."),(0,a.kt)("h2",{id:"device-handler-files-persistance"},"Device Handler Files Persistance"),(0,a.kt)("p",null,"When a device is disconnected, the associated device handler file (DHF) is not\nimmediately removed. Instead, if a process attempts to interact with the DHF, the\n",(0,a.kt)("a",{parentName:"p",href:"/docs/specs/services/hw"},(0,a.kt)("inlineCode",{parentName:"a"},"sys::hw"))," service indicates that the device is currently not\nconnected. This allows applications to maintain the device's location and association for\nfuture use."),(0,a.kt)("p",null,"When the device is connected again, it is associated with the same DHF, ensuring consistency and preserving the device's reference in the system."),(0,a.kt)("h2",{id:"custom-device-handler-file-names"},"Custom Device Handler File Names"),(0,a.kt)("p",null,"Violet provides the flexibility to assign custom names to device handler files (DHF). When a custom name is given, a new DHF file is created and linked to the original DHF\nfile. This preserves compatibility with applications that rely on the original DHF while\nallowing for customized naming conventions."),(0,a.kt)("p",null,"Both the original DHF and the custom DHF point to the same underlying device, offering\nthe same functionality and features. However, it's important to note that custom DHFs can\nbe deleted, which may impact applications relying on them. Caution should be exercised\nwhen deleting custom DHFs."),(0,a.kt)("p",null,"To distinguish custom DHFs from automatically generated DHFs, custom DHF names must\nalways be longer than four characters. This helps prevent confusion and ensures proper\nidentification of DHFs within the system."))}h.isMDXComponent=!0}}]);
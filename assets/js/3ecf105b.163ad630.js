"use strict";(self.webpackChunkviolet_eco_github_io=self.webpackChunkviolet_eco_github_io||[]).push([[6509],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,f=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(f,s(s({ref:t},c),{},{components:n})):a.createElement(f,s({ref:t},c))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,s=new Array(r);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:i,s[1]=o;for(var p=2;p<r;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8944:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const r={slug:"apps-and-libraries",sidebar_position:1,description:"This document describes the structure, features and behaviours to both applications and libraries."},s="Applications and libraries",o={unversionedId:"specs/apps-and-libraries",id:"specs/apps-and-libraries",title:"Applications and libraries",description:"This document describes the structure, features and behaviours to both applications and libraries.",source:"@site/docs/specs/apps-and-libraries.md",sourceDirName:"specs",slug:"/specs/apps-and-libraries",permalink:"/docs/specs/apps-and-libraries",draft:!1,editUrl:"https://github.com/violet-eco/docs/tree/main/docs/docs/specs/apps-and-libraries.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"apps-and-libraries",sidebar_position:1,description:"This document describes the structure, features and behaviours to both applications and libraries."},sidebar:"violetSidebar",previous:{title:"Specifications",permalink:"/docs/specs/"},next:{title:"Applications",permalink:"/docs/specs/applications"}},l={},p=[{value:"Name and slug",id:"name-and-slug",level:2},{value:"Application identifier",id:"application-identifier",level:2},{value:"Features",id:"features",level:2},{value:"Manifest",id:"manifest",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"applications-and-libraries"},"Applications and libraries"),(0,i.kt)("p",null,"This document describes the structure, features and behaviours\nto both ",(0,i.kt)("a",{parentName:"p",href:"/docs/concepts/applications"},"applications")," and\n",(0,i.kt)("a",{parentName:"p",href:"/docs/concepts/libraries"},"libraries"),"."),(0,i.kt)("h2",{id:"name-and-slug"},"Name and slug"),(0,i.kt)("p",null,"Each application has a name as well as a slug. The name can any valid UTF-8 string, while the slug must respect several rules:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Only lowercase letters, underscores and digits"),(0,i.kt)("li",{parentName:"ul"},"Must not start by a digit"),(0,i.kt)("li",{parentName:"ul"},"Must not be the name of a native shell command"),(0,i.kt)("li",{parentName:"ul"},"Must not be the name of a native shell function"),(0,i.kt)("li",{parentName:"ul"},"Must not be the name of a shell type")),(0,i.kt)("p",null,"By default, the slug is auto-generated from the name, but it can also be customized."),(0,i.kt)("h2",{id:"application-identifier"},"Application identifier"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"Application identifier")," (AID) is created using the slug and the developer's identifier (DID)."),(0,i.kt)("p",null,"For example, an application with slug of ",(0,i.kt)("inlineCode",{parentName:"p"},"app")," made by a developer\nwhose DID is ",(0,i.kt)("inlineCode",{parentName:"p"},"gulje")," will get an AID of ",(0,i.kt)("inlineCode",{parentName:"p"},"gulje::app"),"."),(0,i.kt)("p",null,"The AID is unique across the store as well as in a single Violet installation.\nAs malicious application may provide the DID and the slug of a legit application\n(",(0,i.kt)("em",{parentName:"p"},"AID spoofing"),"), sideloading is verified by default."),(0,i.kt)("p",null,"System applications are registered under the reserved ",(0,i.kt)("inlineCode",{parentName:"p"},"sys")," DID."),(0,i.kt)("h2",{id:"features"},"Features"),(0,i.kt)("p",null,"Applications and libraries can define features that are optional parts in the application.\nThey are described in the manifest and can be enabled or disabled when installing\na program."),(0,i.kt)("p",null,"Each feature allows to embed additional assets and declare additional supported\nlanguages and a specific build option."),(0,i.kt)("p",null,"This allows to save space and build time when a specific feature isn't required,\nbut should still embedded in the program itself instead of making an additional\napplication or library."),(0,i.kt)("p",null,"When the manifest declares one or more feature(s), it must also specify\na set of default features to enable."),(0,i.kt)("h2",{id:"manifest"},"Manifest"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-toml"},'[infos]\nname = "Beautiful App" #\xa0[REQ]\nslug = "beautiful-app" #\xa0[REQ]\ndescription = "The most beautiful app on the Violet Store" #\xa0[REQ]\nversion = "1.0.0" #\xa0[REQ]\nauthors = [ #\xa0[REQ]\n  "G\xfclce <guljeee@yandex.com>",\n  "Tuhana <hi@tuhana.me> (https://tuhana.me)"\n]\nicons = "assets/icons/app/%{}.png" #\xa0[REQ]\nlicense = "Apache-2.0" #\xa0[OPT] SPDX License Identifier\n\n[content] #\xa0[OPT]\nassets = ["./assets"]\n\n[content.program] #\xa0[REQ]\nprecomp = "main.vpp" # <for precomp packages> [REQ]\n\n#\xa0Packages can either contain source code only, pre-compiled programs only, or both\n[content.program.source] #\xa0<for source packages> [REQ]\ntoolchain = "rust" # [REQ]\nbuild = {} # [REQ]\noptions = { optimize = "O3" } # [OPT]\n\n[dependencies.libraries] # [REQ]\nsysver = "^1.0.0"\n\n[features.testing] # [OPT]\nassets = [] # [OPT]\ndependencies = {} # [OPT]\nlanguages = [] # [OPT]\n')))}d.isMDXComponent=!0}}]);